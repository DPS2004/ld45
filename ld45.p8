pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
function _init()
	player = {x=0,y=0,ox = 0, oy = 0, i = 0,f=false,sprite = 1,animcooldown = 0,speed = 1,cooldown = 0, reset = false}
	saws = {}
	level = 0
	levelsetup(0)
	state = title
	titlei = 0
end
function ease(framedur,frame,start,target)
	return(start + (((target - start) / framedur) * frame))
end
function levelsetup(level)
	-- here all the levels are stored
	if level == 0 then
		music(14)
	end
end
function modsaw(n,x1,y1,x2,y2,sp,size,delete)

end
function spawnsaw(x1,y1,x2,y2,sp,size)
	s={}
	s.pos = 0
	s.i = 0
	s.x = x1
	s.y = 0 - size
	s.del = false
	s.ox = x1
	s.oy = s.y
	s.x1 = x1
	s.y1 = y1
	s.x2 = x2
	s.y2 = y2
	s.sp = sp
	s.size = size
	s.b = 0
	s.d = 0
	s.f = false
	add(saws,s)
end
function updatesaw(s)
	s.i += 1
	--pain went here
	if s.pos == 0 then
	
		if s.i > 15 then
			s.i = 0
			s.ox = s.x1
			s.oy = s.y1
			s.pos = 2
		else
			s.x = ease(15,s.i,s.ox,s.x1)
			s.y = ease(15,s.i,s.oy,s.y1)
		end
	elseif s.pos == 2 then
		if s.i > s.sp then
			s.i = 0
			s.ox = s.x2
			s.oy = s.y2
			s.pos = 1
		else
			s.x = ease(s.sp,s.i,s.ox,s.x2)
			s.y = ease(s.sp,s.i,s.oy,s.y2)
		end
	elseif s.pos == 1 then
		if s.i > s.sp then
			s.i = 0
			s.ox = s.x1
			s.oy = s.y1
			s.pos = 2
		else
			s.x = ease(s.sp,s.i,s.ox,s.x1)
			s.y = ease(s.sp,s.i,s.oy,s.y1)
		end
	end
end
function drawsaw(s)
	s.d -= 1
	if s.d < 0 then
		s.d = 2 
		if s.f then
			s.f = false
		else
			s.f = true
		end
	end
	spr(3 + s.b,s.x,s.y,1,1,s.f)
end
function collide(s)
	if player.reset == false then
		if player.x >= (s.x - 6) and player.x <= (s.x + 6) then
			if player.y >= (s.y - 5) and player.y <= (s.y + 3) then
				if player.speed !=1 then
					sfx(2)
				else
					s.b = 1
					player.x = 0
					player.y = 0
					sfx(0)
				end
			end
		end
	end
end
function _update()
	-- update player
	lastx = player.x
	lasty = player.y
	player.cooldown -= 1
	player.animcooldown -= 1
	if player.speed > 1 then
	player.speed -= 1
	end
	if btn(5) and player.cooldown <=0 then
		player.speed = 6
		player.cooldown = 10
		
	end
	if btn(0) then
		player.x -= player.speed
		player.f = true
	elseif btn(1) then
		player.x += player.speed
		player.f = false
	end
	if btn(2) then
		player.y -= player.speed
	elseif btn(3) then
		player.y += player.speed
	end
	if player.x != lastx or player.y != lasty then
		
		if player.animcooldown < 0 or player.speed != 1 then
			if player.sprite == 1 then
				player.sprite = 2
			else
				player.sprite = 1
			end
			player.animcooldown = 5
		end
	end
	if player.y < -3 then
		player.y = -3
	elseif player.y > 120 then
		player.y = 120
	end
	if player.x < 0 then
		player.x = 0
	elseif player.x > 120then
		player.x = 120
	end
	
	if player.x > 113 and player.y > 115 and player.reset == false then
		player.reset = true
		levelsetup(level + 1)
	end
	--end update player
	foreach(saws,updatesaw)
	--collision (this gonna suck)
	foreach(saws,collide)
	--music

end
function _draw()
	cls(0)

	spr(player.sprite,player.x,player.y,1,1,player.f)
	spr(5,120,120)
	foreach(saws,drawsaw)
	if state == title then
		titlei += 0.01
		sspr(0,8,113,16,8,52-sin(titlei)*2.25,113,20+sin(titlei)*4.5)
	end
end
__gfx__
00000000000000000000000007070700080808000007770000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000007777777088888880070070000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000077777770887777800700070000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000070007070700070707700777087007887000070000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000070007770700077777700770887007807777770000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700007777770077777707777777087777880000070000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000007777000077770077777770888888800000070000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000007007000700007000707070008080800707070700000000000000000000000000000000000000000000000000000000000000000000000000000000
08888000000000000000000000000000000000000000000888000000000000000000000000000000000000000000000000000000000000000000000000000000
87777800000880000000000088800000000000000000008777800000000000000000000000000000000000000000000000000000000000000000000000000000
87777780008778000000000877788800000000000000087777780000000000088000000000000000000000000000000000000000000000000000000000000000
87787788008778000000000877777780888888888800877787780000008800877800008880000000000000777000000007700077777777700000000000000000
87787777808778000000000088777788777777777780877808800000087780877780087778000000000077777000000077700077777777770000000000000000
87788777808778000000880008777808777777777780877800000000877780087780087778088000000077700000000777700000000770777000000000000000
87788877808778000008778008778000888888877800877788000000877778087778877778877800000777000000000777700000007770077000000000000000
87777777808777800008778087778000000008777800087777800000877778008778877778777800000770000000000777770000007700000000000000000000
87777778800877800008778877780000000087778000008777780008777777808778877778778000000777000000007770770000007700000000000000000000
87788777788877800008778777800000000087780000000887778008778877808778777777778000000077000000007700770000007700000000000000000000
87788877777877780087778778000000000877780000000008778008778877808778778777780000000077000000007777777000007700000000000000000000
87788888777887780087788778000000000877800000000088778087777777788777778877780000000077700000077777777000077700000000000000000000
87788887778087778877788777888888800877888888008877778087777777780877780877800000000007777000077000077000077000000000000000000000
87777777780008777777800877777777780877777777887777780877788887780877780088000000000000777700077000077000077000000000000000000000
08777777800008777778000087777777780877777777887778800877800087780877800000000000000000007700077000077000077000000000000000000000
00888888000000888880000008888888800088888888008880000088000008800088000000000000000000000000000000000000000000000000000000000000
__label__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000007000707000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000007000777000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000777777000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000777700000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000007000070000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000707070000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000077777770000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000007777777000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000077700770000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000007700777000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000077777770000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000007777777000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000007070700000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000077700
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000700700
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007000700
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000070000700
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000077777700
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000700
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000700
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000007070707

__sfx__
000100002445021450184501e4501c4501a4501745015450124500f4500c4500c45012450104500a4500545001450004500040000400004000040000400004000040000400004000040000400004000040000400
000500000162001620016200162001620016200162001620016200162001620016200162001620016200162001620016200162001620016200162001620016200162001620016200162001620016200162001620
000100002e15031150331503315032150301502a15000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
010a00000c575005000e575005000f575005000e575005000c575005000e575005000f575005000e575005000c5700e5700f5700e5700c5700e5700f5700e5700c570005000e570005000f570005000e57000500
010a00000f575005001157500500135750050011575005000f575005001157500500135750050011575005000f5701157013570115700f5701157013570115700f57000500115700050013570005001157000500
010a00001357500500145750050016575005001457500500135750050014575005001657500500145750050013570145701657014570135701457016570145701357000500145700050016570005001457000500
010a000016570135001457014500135701350011570145000f570165000e570145000c570135000e570165000f570135001157016500135701350011570145000f570165000e570145000c570000000b57000000
010a00000c635000050c6350000524635000050c635000050c635000050c6350000524635000050c635000050c635000050c6350000524635000050c6350000524635000050c6350000024635000000c63500000
010a00000022000220002200022000220002200022000220002200022000220002200022000220002200022000220002200022000220002200022000220002200022000220002200022000220002200022000220
010a00000722007220072200722007220072200722007220072200722007220072200722007220072200722007220072200722007220072200722007220072200722007220072200722007220072200722007220
010a00000322003220032200322003220032200322003220032200322003220032200322003220032200322003220032200322003220032200322003220032200322003220032200322003220032200322003220
010a00000222002220022200222002220022200222002220022200222002220022200222002220022200222007220072200722007220072200722007220072200722007220072200722007220072200722007220
010a0000246350c0050c63524005246350c0050c6350c005246350c005246350c0052463524005246350c005246350c0050c63524005246350c0050c635240052463524005246352400024635240002463500000
010a00000c2300020000220002000c2300e200002200e2000c230002000e230002000f2300e2000e2300e2000c2300020000220002000c2300e200002200e2000c230002000e230002000f230002000e23000000
010a00000f2300020003220002000f2300e200032200e2000f230002001123000200132300e200112300e2000f2300020003220002000f2300e200032200e2000f23000200112300020013230002001123000000
010a00001323000200072200c2001323002200072200e20013230002001423000200162300e200142300e2001323000200072200c2001323002200072200e2001323000200142300020016230002001423000000
__music__
00 43074344
00 44074344
01 03074344
00 04074344
00 05074344
00 06074344
00 03070844
00 04070944
00 05070a44
00 06070b44
00 030c0d44
00 040c0e44
00 050c0f44
02 060c4644
03 01424344

